<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui" xmlns:o="http://omnifaces.org/ui"
	xmlns:of="http://omnifaces.org/functions"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:form id="formRelatoriosFechamento">
	<div class="panel panel-default">
		<div class="panel-heading">Relatórios</div>
		<div class="panel-body">
			<div class="row">
				<div class="form-group">
					<div class="col-lg-6">
					<h:panelGroup id="panelComboAno">
						<h:selectOneMenu id="comboAno" styleClass="form-control"
							converter="omnifaces.SelectItemsConverter"
							value="#{servicosWebBean.servicosConsulta.ano}">
							<f:selectItem itemLabel="2015" itemValue="2015" />
							<f:selectItem itemLabel="2016" itemValue="2016" />
							<f:selectItem itemLabel="2017" itemValue="2017" />
							<f:selectItem itemLabel="2018" itemValue="2018" />
							<f:selectItem itemLabel="2019" itemValue="2019" />
							<f:selectItem itemLabel="2020" itemValue="2020" />
							<p:ajax event="change" listener="#{servicosWebBean.popularRegistros()}" update="panelRelatorios" />
						</h:selectOneMenu>
					</h:panelGroup>
					<h:selectOneMenu id="comboMes" styleClass="form-control"
						value="#{servicosWebBean.servicosConsulta.mes}">
						<f:selectItem itemLabel="Janeiro" itemValue="1" />
						<f:selectItem itemLabel="Fevereiro" itemValue="2" />
						<f:selectItem itemLabel="Março" itemValue="3" />
						<f:selectItem itemLabel="Abril" itemValue="4" />
						<f:selectItem itemLabel="Maio" itemValue="5" />
						<f:selectItem itemLabel="Junho" itemValue="6" />
						<f:selectItem itemLabel="Julho" itemValue="7" />
						<f:selectItem itemLabel="Agosto" itemValue="8" />
						<f:selectItem itemLabel="Setembro" itemValue="9" />
						<f:selectItem itemLabel="Outubro" itemValue="10" />
						<f:selectItem itemLabel="Novembro" itemValue="11" />
						<f:selectItem itemLabel="Dezembro" itemValue="12" />
						<p:ajax event="change" listener="#{servicosWebBean.popularRegistros()}" update="panelRelatorios" />
					</h:selectOneMenu>
					</div>
				</div>
			</div>
		</div>
	</div>
	<br />
	<h:panelGroup id="panelRelatorios">
		<div class="col-lg-12">
			<div class="panel panel-primary">
				<div class="panel-heading">Detalhes</div>
				<div class="panel-body">
					<div class="col-md-3 col-sm-12 col-xs-12">
						<div
							class="panel panel-primary text-center no-boder bg-color-brown">
							<div class="panel-body">
								<i class="fa fa-file-o fa-5x"></i>
								<h3>#{servicosWebBean.totalSegundaVia()}</h3>
							</div>
							<div class="panel-footer back-footer-brown">Total Segunda Via</div>
						</div>
					</div>
					<div class="col-md-3 col-sm-12 col-xs-12">
						<div
							class="panel panel-primary text-center no-boder bg-color-green">
							<div class="panel-body">
								<i class="fa fa-usd fa-5x"></i>
								<h3>#{servicosWebBean.totalValorSegundaVia()}</h3>
							</div>
							<div class="panel-footer back-footer-green">Valor Segunda Via</div>
						</div>
					</div>
					<div class="col-md-3 col-sm-12 col-xs-12">
						<div class="panel panel-primary text-center no-boder bg-color-blue">
							<div class="panel-body">
								<i class="fa fa-print fa-5x"></i>
								<h3>#{servicosWebBean.totalXerox()}</h3>
							</div>
							<div class="panel-footer back-footer-blue">Total Xerox</div>
						</div>
					</div>
					<div class="col-md-3 col-sm-12 col-xs-12">
						<div class="panel panel-primary text-center no-boder bg-color-green">
							<div class="panel-body">
								<i class="fa fa-usd fa-5x"></i>
								<h3>#{servicosWebBean.totalValorXerox()}</h3>
							</div>
							<div class="panel-footer back-footer-green">Valor Xerox</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="row">
			<div class="col-lg-12">
				<div class="panel panel-default">
					<div class="panel-body">
						<div class="row">
							<div class="col-lg-6">
								<div class="panel panel-primary">
									<div class="panel-heading">
										<strong>Segunda via</strong>
									</div>
										<p:dataTable id="dataTableSegundaVia" var="servico" reflow="true"
											scrollHeight="500" value="#{servicosWebBean.servicosSegundaVia}">
											<p:column headerText="Ação" style="text-align: center">
												<p:commandButton id="excluirServico"
													icon="ui-icon-closethick"
													actionListener="#{servicosWebBean.excluirServico(servico)}"
													update="dataTableSegundaVia" title="Excluir Registro">
													<p:confirm header="Confirmação" message="Deseja Excluir?"
														icon="ui-icon-alert" />
												</p:commandButton>
											</p:column>
	
											<p:column headerText="Data" style="text-align: center">
												<h:outputText value="#{servico.dataRegistro}">
													<f:convertDateTime type="date" pattern="dd/MM/yyyy" />
												</h:outputText>
											</p:column>
	
											<p:column headerText="Quantidade" style="text-align: center">
												<h:outputText value="#{servico.quantidade}"/>
											</p:column>
										</p:dataTable>
								</div>
							</div>
							<div class="col-lg-6">
								<div class="panel panel-primary">
									<div class="panel-heading">
										<strong>Xerox</strong>
									</div>
									<p:dataTable id="dataTableXerox" var="servico" reflow="true"
										scrollHeight="500" value="#{servicosWebBean.servicosXerox}">
										<p:column headerText="Ação" style="text-align: center">
											<p:commandButton id="excluirServico"
												icon="ui-icon-closethick"
												actionListener="#{servicosWebBean.excluirServico(servico)}"
												update="dataTableXerox" title="Excluir Registro">
												<p:confirm header="Confirmação" message="Deseja Excluir?"
													icon="ui-icon-alert" />
											</p:commandButton>
										</p:column>

										<p:column headerText="Data" style="text-align: center">
											<h:outputText value="#{servico.dataRegistro}">
												<f:convertDateTime type="date" pattern="dd/MM/yyyy" />
											</h:outputText>
										</p:column>

										<p:column headerText="Quantidade" style="text-align: center">
											<h:outputText value="#{servico.quantidade}"/>
										</p:column>
									</p:dataTable>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</h:panelGroup>
</h:form>
</html>
